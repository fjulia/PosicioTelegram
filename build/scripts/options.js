function loadOptions(){$("#config_bot_token").val(localStorage.telegram_bot_token),$("#config_bot_group").val(localStorage.telegram_group_name),$("#config_origin").val(localStorage.telegram_origin),$("#config_save").click(saveOptions),$("#config_reset").click(eraseOptions)}function saveOptions(){var o=$("#config_bot_token").val().trim(),e=$("#config_bot_group").val().trim(),a=$("#config_origin").val().trim();""!=o&&o!=localStorage.telegram_bot_token||""!=e&&e!=localStorage.telegram_group_name?($(this).find("span").addClass("fa-spin"),$(this).html('<span class="fa fa-refresh fa-spin"></span>  comprovant'),chrome.extension.sendMessage({msg:"createGroup",bot_id:o,groupName:e,request:a})):(a&&""!=a&&(localStorage.telegram_origin=a),window.close())}function eraseOptions(){localStorage.clear(),chrome.extension.sendMessage({msg:"reset"}),$("#config_bot_token").val(""),$("#config_bot_group").val(""),$("#config_origin").val("")}chrome.runtime.onMessage.addListener(function(o,e,a){"configured_ok"==o.status?window.close():"configured_failed"==o.status&&window.close()}),$(document).ready(function(){loadOptions()});